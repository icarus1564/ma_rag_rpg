<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Agent RAG RPG</title>

    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- CodeMirror 6 (for config editing) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">
                <i class="fas fa-dice-d20"></i> Multi-Agent RAG RPG
            </span>
            <div class="navbar-text" id="systemStatus">
                <small>System: <span class="status-indicator" id="headerStatus">
                    <i class="fas fa-spinner fa-spin"></i> Loading...
                </span></small>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container-fluid mt-3">
        <!-- Tab Navigation -->
        <ul class="nav nav-tabs" id="mainTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="game-tab" data-bs-toggle="tab" data-bs-target="#game-pane" type="button" role="tab">
                    <i class="fas fa-gamepad"></i> Game
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="status-tab" data-bs-toggle="tab" data-bs-target="#status-pane" type="button" role="tab">
                    <i class="fas fa-chart-line"></i> Status
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="config-tab" data-bs-toggle="tab" data-bs-target="#config-pane" type="button" role="tab">
                    <i class="fas fa-cog"></i> Configuration
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="feedback-tab" data-bs-toggle="tab" data-bs-target="#feedback-pane" type="button" role="tab">
                    <i class="fas fa-comment"></i> Feedback <span class="badge bg-secondary" id="feedbackCount">0</span>
                </button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content mt-3" id="mainTabsContent">
            <!-- Game Tab -->
            <div class="tab-pane fade show active" id="game-pane" role="tabpanel">
                <div id="gameTab"></div>
            </div>

            <!-- Status Tab -->
            <div class="tab-pane fade" id="status-pane" role="tabpanel">
                <div id="statusTab"></div>
            </div>

            <!-- Configuration Tab -->
            <div class="tab-pane fade" id="config-pane" role="tabpanel">
                <div id="configTab"></div>
            </div>

            <!-- Feedback Tab -->
            <div class="tab-pane fade" id="feedback-pane" role="tabpanel">
                <div id="feedbackTab"></div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer mt-auto py-3 bg-light border-top">
        <div class="container-fluid">
            <div class="row text-muted small">
                <div class="col-md-4">
                    <span id="footerStatus">System: <span id="footerStatusText">Ready</span></span>
                </div>
                <div class="col-md-4 text-center">
                    <span id="footerCorpus">Corpus: <span id="footerCorpusText">Loading...</span></span>
                </div>
                <div class="col-md-4 text-end">
                    <span id="footerSession">Session: <span id="footerSessionText">None</span></span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Toast Container for Notifications -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3" id="toastContainer"></div>

    <!-- Bootstrap 5.3 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- CodeMirror 6 JS (for config editing) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/yaml/yaml.min.js"></script>

    <!-- Application JS -->
    <script src="js/utils.js"></script>
    <script src="js/api-client.js"></script>
    <script src="js/game-tab.js"></script>
    <script src="js/status-tab.js"></script>
    <script src="js/config-tab.js"></script>
    <script src="js/feedback-tab.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
